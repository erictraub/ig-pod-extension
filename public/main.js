'use strict';

window.app = angular.module('LikerApp', []);
app.controller('LandingController', function ($scope, LandingFactory) {
  console.log('Landing ctrl loaded.');
  let currentUser = {};
  chromep.identity.getProfileUserInfo().then(userInfo => {
    console.log('userInfo', userInfo);
    currentUser = userInfo;
    currentUser.igUsername = 'SOME.RANDO.123';
    currentUser.chromeId = currentUser.id;
    return LandingFactory.findOrCreateUser(currentUser);
  }).then(user => {
    console.log('USER: ', user);
  });
});
app.factory('LandingFactory', function ($http) {
  var LandingFactory = {};
  var base = 'http://192.168.1.3:1337';

  LandingFactory.fetchAllUsers = function () {
    return $http.get(base + '/api/users').then(users => users.data);
  };

  LandingFactory.findOrCreateUser = function (userData) {
    return $http.post(base + '/api/users/find-or-create', userData).then(users => users.data);
  };

  return LandingFactory;
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImxhbmRpbmcvbGFuZGluZy5jb250cm9sbGVyLmpzIiwibGFuZGluZy9sYW5kaW5nLmZhY3RvcnkuanMiXSwibmFtZXMiOlsid2luZG93IiwiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJMYW5kaW5nRmFjdG9yeSIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50VXNlciIsImNocm9tZXAiLCJpZGVudGl0eSIsImdldFByb2ZpbGVVc2VySW5mbyIsInRoZW4iLCJ1c2VySW5mbyIsImlnVXNlcm5hbWUiLCJjaHJvbWVJZCIsImlkIiwiZmluZE9yQ3JlYXRlVXNlciIsInVzZXIiLCJmYWN0b3J5IiwiJGh0dHAiLCJiYXNlIiwiZmV0Y2hBbGxVc2VycyIsImdldCIsInVzZXJzIiwiZGF0YSIsInVzZXJEYXRhIiwicG9zdCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE1BQUEsQ0FBQUMsR0FBQSxHQUFBQyxPQUFBLENBQUFDLE1BQUEsQ0FBQSxVQUFBLEVBQUEsRUFBQSxDQUFBO0FDREFGLEdBQUEsQ0FBQUcsVUFBQSxDQUFBLG1CQUFBLEVBQUEsVUFBQUMsTUFBQSxFQUFBQyxjQUFBLEVBQUE7QUFDQUMsRUFBQUEsT0FBQSxDQUFBQyxHQUFBLENBQUEsc0JBQUE7QUFDQSxNQUFBQyxXQUFBLEdBQUEsRUFBQTtBQUVBQyxFQUFBQSxPQUFBLENBQUFDLFFBQUEsQ0FBQUMsa0JBQUEsR0FDQUMsSUFEQSxDQUNBQyxRQUFBLElBQUE7QUFDQVAsSUFBQUEsT0FBQSxDQUFBQyxHQUFBLENBQUEsVUFBQSxFQUFBTSxRQUFBO0FBQ0FMLElBQUFBLFdBQUEsR0FBQUssUUFBQTtBQUNBTCxJQUFBQSxXQUFBLENBQUFNLFVBQUEsR0FBQSxnQkFBQTtBQUNBTixJQUFBQSxXQUFBLENBQUFPLFFBQUEsR0FBQVAsV0FBQSxDQUFBUSxFQUFBO0FBQ0EsV0FBQVgsY0FBQSxDQUFBWSxnQkFBQSxDQUFBVCxXQUFBLENBQUE7QUFDQSxHQVBBLEVBT0FJLElBUEEsQ0FPQU0sSUFBQSxJQUFBO0FBQ0FaLElBQUFBLE9BQUEsQ0FBQUMsR0FBQSxDQUFBLFFBQUEsRUFBQVcsSUFBQTtBQUNBLEdBVEE7QUFVQSxDQWRBO0FDQUFsQixHQUFBLENBQUFtQixPQUFBLENBQUEsZ0JBQUEsRUFBQSxVQUFBQyxLQUFBLEVBQUE7QUFDQSxNQUFBZixjQUFBLEdBQUEsRUFBQTtBQUVBLE1BQUFnQixJQUFBLEdBQUEseUJBQUE7O0FBRUFoQixFQUFBQSxjQUFBLENBQUFpQixhQUFBLEdBQUEsWUFBQTtBQUNBLFdBQUFGLEtBQUEsQ0FBQUcsR0FBQSxDQUFBRixJQUFBLEdBQUEsWUFBQSxFQUNBVCxJQURBLENBQ0FZLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxJQURBLENBQUE7QUFFQSxHQUhBOztBQUtBcEIsRUFBQUEsY0FBQSxDQUFBWSxnQkFBQSxHQUFBLFVBQUFTLFFBQUEsRUFBQTtBQUNBLFdBQUFOLEtBQUEsQ0FBQU8sSUFBQSxDQUFBTixJQUFBLEdBQUEsMkJBQUEsRUFBQUssUUFBQSxFQUNBZCxJQURBLENBQ0FZLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxJQURBLENBQUE7QUFFQSxHQUhBOztBQU1BLFNBQUFwQixjQUFBO0FBQ0EsQ0FqQkEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbndpbmRvdy5hcHAgPSBhbmd1bGFyLm1vZHVsZSgnTGlrZXJBcHAnLCBbXSk7XG5cblxuIiwiYXBwLmNvbnRyb2xsZXIoJ0xhbmRpbmdDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgTGFuZGluZ0ZhY3RvcnkpIHtcblx0Y29uc29sZS5sb2coJ0xhbmRpbmcgY3RybCBsb2FkZWQuJyk7XG5cdGxldCBjdXJyZW50VXNlciA9IHt9O1xuXG5cdGNocm9tZXAuaWRlbnRpdHkuZ2V0UHJvZmlsZVVzZXJJbmZvKClcblx0LnRoZW4odXNlckluZm8gPT4ge1xuXHRcdGNvbnNvbGUubG9nKCd1c2VySW5mbycsIHVzZXJJbmZvKVxuXHRcdGN1cnJlbnRVc2VyID0gdXNlckluZm87XG5cdFx0Y3VycmVudFVzZXIuaWdVc2VybmFtZSA9ICdTT01FLlJBTkRPLjEyMyc7XG5cdFx0Y3VycmVudFVzZXIuY2hyb21lSWQgPSBjdXJyZW50VXNlci5pZDtcblx0XHRyZXR1cm4gTGFuZGluZ0ZhY3RvcnkuZmluZE9yQ3JlYXRlVXNlcihjdXJyZW50VXNlcik7XG5cdH0pLnRoZW4odXNlciA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ1VTRVI6ICcsIHVzZXIpO1xuXHR9KTtcbn0pO1xuXG5cbiIsImFwcC5mYWN0b3J5KCdMYW5kaW5nRmFjdG9yeScsIGZ1bmN0aW9uICgkaHR0cCkge1xuXHR2YXIgTGFuZGluZ0ZhY3RvcnkgPSB7fVxuXG5cdCB2YXIgYmFzZSA9ICdodHRwOi8vMTkyLjE2OC4xLjM6MTMzNyc7XG5cblx0TGFuZGluZ0ZhY3RvcnkuZmV0Y2hBbGxVc2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKycvYXBpL3VzZXJzJylcbiAgICAgICAgLnRoZW4odXNlcnMgPT4gdXNlcnMuZGF0YSk7XG5cdH07XG5cblx0TGFuZGluZ0ZhY3RvcnkuZmluZE9yQ3JlYXRlVXNlciA9IGZ1bmN0aW9uKHVzZXJEYXRhKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2UgKycvYXBpL3VzZXJzL2ZpbmQtb3ItY3JlYXRlJywgdXNlckRhdGEpXG4gICAgICAgIC50aGVuKHVzZXJzID0+IHVzZXJzLmRhdGEpO1xuXHR9O1xuXG5cblx0cmV0dXJuIExhbmRpbmdGYWN0b3J5O1xufSk7XG5cblxuIl19
